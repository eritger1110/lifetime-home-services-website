{% set reviewsId = reviewsId or 'reviews' %}
{% set reviewsClass = reviewsClass or 'reviews-strip' %}

<section class="section reviews-section" {% if sectionId %}id="{{ sectionId }}"{% endif %}>
  <div class="container">
    {% if reviewsTitle %}
    <div class="section-header">
      <h2 class="section-title">{{ reviewsTitle }}</h2>
      {% if reviewsDescription %}
      <p class="section-description">{{ reviewsDescription }}</p>
      {% endif %}
    </div>
    {% endif %}
    
    <div class="{{ reviewsClass }}" id="{{ reviewsId }}">
      {% if reviews %}
      <div class="reviews-grid">
        {% for review in reviews %}
        <div class="review-card" {% if review.id %}id="{{ review.id }}"{% endif %}>
          <div class="review-header">
            <div class="review-rating" aria-label="Rating: {{ review.rating }} out of 5 stars">
              <div class="stars">
                {% for i in range(1, 6) %}
                <svg class="star {% if i <= review.rating %}star-filled{% endif %}" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
                </svg>
                {% endfor %}
              </div>
            </div>
            
            {% if review.date %}
            <div class="review-date">
              <time datetime="{{ review.date }}">{{ review.dateFormatted or review.date }}</time>
            </div>
            {% endif %}
          </div>
          
          <blockquote class="review-text">
            "{{ review.text }}"
          </blockquote>
          
          <div class="review-author">
            {% if review.avatar %}
            <img src="{{ review.avatar }}" alt="{{ review.author }}" class="author-avatar" loading="lazy">
            {% else %}
            <div class="author-avatar author-initials" aria-hidden="true">
              {{ review.author | first | upper }}{{ review.author.split(' ') | last | first | upper }}
            </div>
            {% endif %}
            
            <div class="author-info">
              <cite class="author-name">{{ review.author }}</cite>
              {% if review.location %}
              <div class="author-location">{{ review.location }}</div>
              {% endif %}
              {% if review.service %}
              <div class="review-service">{{ review.service }}</div>
              {% endif %}
            </div>
          </div>
          
          {% if review.verified %}
          <div class="review-verified">
            <svg class="verified-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Verified Customer</span>
          </div>
          {% endif %}
        </div>
        {% endfor %}
      </div>
      {% else %}
      <!-- Static fallback reviews -->
      <div class="reviews-grid">
        <div class="review-card">
          <div class="review-header">
            <div class="review-rating" aria-label="Rating: 5 out of 5 stars">
              <div class="stars">
                {% for i in range(1, 6) %}
                <svg class="star star-filled" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
                </svg>
                {% endfor %}
              </div>
            </div>
            <div class="review-date">
              <time datetime="2024-12-15">December 2024</time>
            </div>
          </div>
          
          <blockquote class="review-text">
            "Excellent service from start to finish. The team was professional, punctual, and delivered exactly what they promised. Highly recommend!"
          </blockquote>
          
          <div class="review-author">
            <div class="author-avatar author-initials" aria-hidden="true">MJ</div>
            <div class="author-info">
              <cite class="author-name">Mike Johnson</cite>
              <div class="author-location">Madison, WI</div>
            </div>
          </div>
          
          <div class="review-verified">
            <svg class="verified-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Verified Customer</span>
          </div>
        </div>
        
        <div class="review-card">
          <div class="review-header">
            <div class="review-rating" aria-label="Rating: 5 out of 5 stars">
              <div class="stars">
                {% for i in range(1, 6) %}
                <svg class="star star-filled" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
                </svg>
                {% endfor %}
              </div>
            </div>
            <div class="review-date">
              <time datetime="2024-11-28">November 2024</time>
            </div>
          </div>
          
          <blockquote class="review-text">
            "Outstanding quality and attention to detail. The results exceeded our expectations and the pricing was very fair. Will definitely use again!"
          </blockquote>
          
          <div class="review-author">
            <div class="author-avatar author-initials" aria-hidden="true">SM</div>
            <div class="author-info">
              <cite class="author-name">Sarah Miller</cite>
              <div class="author-location">Milwaukee, WI</div>
            </div>
          </div>
          
          <div class="review-verified">
            <svg class="verified-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Verified Customer</span>
          </div>
        </div>
        
        <div class="review-card">
          <div class="review-header">
            <div class="review-rating" aria-label="Rating: 5 out of 5 stars">
              <div class="stars">
                {% for i in range(1, 6) %}
                <svg class="star star-filled" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
                </svg>
                {% endfor %}
              </div>
            </div>
            <div class="review-date">
              <time datetime="2024-10-12">October 2024</time>
            </div>
          </div>
          
          <blockquote class="review-text">
            "Professional team that really knows their stuff. Great communication throughout the project and fantastic final results. Couldn't be happier!"
          </blockquote>
          
          <div class="review-author">
            <div class="author-avatar author-initials" aria-hidden="true">DW</div>
            <div class="author-info">
              <cite class="author-name">David Wilson</cite>
              <div class="author-location">Green Bay, WI</div>
            </div>
          </div>
          
          <div class="review-verified">
            <svg class="verified-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Verified Customer</span>
          </div>
        </div>
      </div>
      {% endif %}
    </div>
    
    {% if reviewsCTA %}
    <div class="section-cta">
      <a href="{{ reviewsCTA.url }}" class="btn {{ reviewsCTA.class or 'btn-secondary' }}">
        {% if reviewsCTA.icon %}
        <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          {{ reviewsCTA.icon | safe }}
        </svg>
        {% endif %}
        {{ reviewsCTA.text }}
      </a>
    </div>
    {% endif %}
  </div>
</section>

