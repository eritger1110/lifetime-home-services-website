<div class="hero-video">
  <video autoplay muted loop playsinline>
    <source src="{{ src }}" type="video/mp4">
  </video>
</div>
<script>
(function(){
  const v=document.currentScript.previousElementSibling.querySelector('video');
  function restart(){v.currentTime=0;v.play();}
  document.addEventListener('visibilitychange',()=>{if(!document.hidden) restart();});
  window.addEventListener('pageshow',e=>{if(e.persisted) restart();});
})();
</script>
