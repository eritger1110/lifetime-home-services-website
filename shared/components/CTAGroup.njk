{% set ctaId = ctaId or 'cta' %}
{% set ctaClass = ctaClass or 'cta-group' %}
{% set ctaStyle = ctaStyle or 'default' %}

<section class="section cta-section cta-{{ ctaStyle }}" {% if sectionId %}id="{{ sectionId }}"{% endif %}>
  <div class="container">
    <div class="{{ ctaClass }}" id="{{ ctaId }}">
      {% if ctaBackground %}
      <div class="cta-background">
        {% if ctaBackground.type == 'image' %}
        <picture>
          {% if ctaBackground.webp %}
          <source srcset="{{ ctaBackground.webp }}" type="image/webp">
          {% endif %}
          <img src="{{ ctaBackground.image }}" alt="{{ ctaBackground.alt or '' }}" class="cta-bg-image" loading="lazy">
        </picture>
        {% elif ctaBackground.type == 'video' %}
        <video class="cta-bg-video" autoplay muted loop playsinline poster="{{ ctaBackground.poster }}">
          <source src="{{ ctaBackground.video }}" type="video/mp4">
        </video>
        {% endif %}
        <div class="cta-overlay" aria-hidden="true"></div>
      </div>
      {% endif %}
      
      <div class="cta-content">
        {% if ctaSubtitle %}
        <p class="cta-subtitle">{{ ctaSubtitle }}</p>
        {% endif %}
        
        {% if ctaTitle %}
        <h2 class="cta-title">{{ ctaTitle }}</h2>
        {% endif %}
        
        {% if ctaDescription %}
        <p class="cta-description">{{ ctaDescription }}</p>
        {% endif %}
        
        {% if ctaFeatures %}
        <ul class="cta-features">
          {% for feature in ctaFeatures %}
          <li class="cta-feature">
            <svg class="feature-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>{{ feature }}</span>
          </li>
          {% endfor %}
        </ul>
        {% endif %}
        
        {% if ctaActions %}
        <div class="cta-actions">
          {% for action in ctaActions %}
          <a href="{{ action.url }}" class="btn {{ action.class or 'btn-primary' }} {{ action.size or 'btn-lg' }}" {% if action.external %}target="_blank" rel="noopener noreferrer"{% endif %} {% if action.phone %}aria-label="Call {{ action.text }}"{% endif %}>
            {% if action.icon %}
            <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              {{ action.icon | safe }}
            </svg>
            {% endif %}
            {{ action.text }}
          </a>
          {% endfor %}
        </div>
        {% endif %}
        
        {% if ctaTrust %}
        <div class="cta-trust">
          {% for trust in ctaTrust %}
          <div class="trust-item">
            {% if trust.icon %}
            <svg class="trust-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              {{ trust.icon | safe }}
            </svg>
            {% endif %}
            <span>{{ trust.text }}</span>
          </div>
          {% endfor %}
        </div>
        {% endif %}
        
        {% if ctaContact %}
        <div class="cta-contact">
          <div class="contact-item">
            <svg class="contact-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M22 16.92V19.92C22 20.52 21.52 21 20.92 21C9.4 21 0 11.6 0 0.08C0 -0.52 0.48 -1 1.08 -1H4.08C4.68 -1 5.16 -0.52 5.16 0.08C5.16 2.08 5.56 4 6.28 5.76C6.44 6.12 6.32 6.56 6 6.84L4.84 8C6.84 11.88 10.12 15.16 14 17.16L15.16 16C15.44 15.68 15.88 15.56 16.24 15.72C18 16.44 19.92 16.84 21.92 16.84C22.52 16.84 23 17.32 23 17.92V20.92Z" fill="currentColor"/>
            </svg>
            <div>
              <span class="contact-label">Call Now:</span>
              <a href="tel:{{ site.phone }}" class="contact-value">{{ site.phone }}</a>
            </div>
          </div>
          
          {% if ctaContact.hours %}
          <div class="contact-item">
            <svg class="contact-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
              <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div>
              <span class="contact-label">Hours:</span>
              <span class="contact-value">{{ ctaContact.hours }}</span>
            </div>
          </div>
          {% endif %}
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

