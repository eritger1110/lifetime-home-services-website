{% set videoPoster = videoPoster or '/assets/images/' + brand + '/heroes/' + brand + '-hero-poster.jpg' %}
{% set videoAlt = videoAlt or (heroTitle + ' - ' + site.title) %}

<section class="hero hero-video" role="banner" aria-labelledby="hero-title">
  <div class="hero-background">
    <video 
      class="hero-bg-video" 
      autoplay 
      muted 
      loop 
      playsinline 
      poster="{{ videoPoster }}"
      aria-label="{{ videoAlt }}"
      preload="metadata">
      <source src="{{ videoSrc }}" type="video/mp4">
      <!-- Fallback image for browsers that don't support video -->
      <img src="{{ videoPoster }}" alt="{{ videoAlt }}" class="hero-bg-image">
    </video>
    <div class="hero-overlay" aria-hidden="true"></div>
  </div>
  
  <div class="container">
    <div class="hero-content">
      <div class="hero-text">
        {% if heroSubtitle %}
        <p class="hero-subtitle">{{ heroSubtitle }}</p>
        {% endif %}
        
        <h1 id="hero-title" class="hero-title">{{ heroTitle }}</h1>
        
        {% if heroDescription %}
        <p class="hero-description">{{ heroDescription }}</p>
        {% endif %}
        
        {% if heroFeatures %}
        <ul class="hero-features" aria-label="Key features">
          {% for feature in heroFeatures %}
          <li class="hero-feature">
            <svg class="feature-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>{{ feature }}</span>
          </li>
          {% endfor %}
        </ul>
        {% endif %}
        
        <div class="hero-actions">
          {% if primaryCTA %}
          <a href="{{ primaryCTA.url }}" class="btn btn-primary btn-lg" {% if primaryCTA.phone %}aria-label="Call {{ primaryCTA.text }}"{% endif %}>
            {% if primaryCTA.icon %}
            <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              {{ primaryCTA.icon | safe }}
            </svg>
            {% endif %}
            {{ primaryCTA.text }}
          </a>
          {% endif %}
          
          {% if secondaryCTA %}
          <a href="{{ secondaryCTA.url }}" class="btn btn-secondary btn-lg">
            {% if secondaryCTA.icon %}
            <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              {{ secondaryCTA.icon | safe }}
            </svg>
            {% endif %}
            {{ secondaryCTA.text }}
          </a>
          {% endif %}
        </div>
        
        {% if trustIndicators %}
        <div class="hero-trust">
          {% for indicator in trustIndicators %}
          <div class="trust-indicator">
            {% if indicator.icon %}
            <svg class="trust-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              {{ indicator.icon | safe }}
            </svg>
            {% endif %}
            <span>{{ indicator.text }}</span>
          </div>
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </div>
  </div>
  
  <!-- Video Controls (Hidden by default, accessible) -->
  <div class="video-controls" aria-label="Video controls">
    <button class="video-toggle" aria-label="Pause video" data-play-text="Play video" data-pause-text="Pause video">
      <svg class="play-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
      </svg>
      <svg class="pause-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6 4H10V20H6V4ZM14 4H18V20H14V4Z" fill="currentColor"/>
      </svg>
    </button>
    
    <button class="video-mute" aria-label="Unmute video" data-mute-text="Mute video" data-unmute-text="Unmute video">
      <svg class="volume-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11 5L6 9H2V15H6L11 19V5ZM19.07 4.93L17.66 6.34C18.85 7.53 19.5 9.23 19.5 11C19.5 12.77 18.85 14.47 17.66 15.66L19.07 17.07C20.68 15.46 21.5 13.28 21.5 11C21.5 8.72 20.68 6.54 19.07 4.93ZM15.54 8.46L14.12 9.88C14.66 10.42 15 11.17 15 12C15 12.83 14.66 13.58 14.12 14.12L15.54 15.54C16.47 14.61 17 13.36 17 12C17 10.64 16.47 9.39 15.54 8.46Z" fill="currentColor"/>
      </svg>
      <svg class="mute-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M16.5 12C16.5 10.23 15.5 8.71 14 7.97V10.18L16.45 12.63C16.48 12.43 16.5 12.22 16.5 12ZM19 12C19 12.94 18.8 13.82 18.46 14.64L19.97 16.15C20.63 14.91 21 13.5 21 12C21 7.72 18 4.14 13.5 3.23V5.29C16.89 6.15 19 9.83 19 12ZM4.27 3L3 4.27L7.73 9H3V15H7L12 20V13.27L16.25 17.53C15.58 18.04 14.83 18.46 14 18.7V20.77C15.38 20.45 16.63 19.82 17.68 18.96L19.73 21L21 19.73L12 10.73L4.27 3ZM12 4L9.91 6.09L12 8.18V4Z" fill="currentColor"/>
      </svg>
    </button>
  </div>
  
  <!-- Scroll Indicator -->
  <div class="scroll-indicator" aria-hidden="true">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M7 13L12 18L17 13M7 6L12 11L17 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>
  
  <!-- Video Transcript Link (for accessibility) -->
  {% if transcriptUrl %}
  <div class="video-transcript">
    <a href="{{ transcriptUrl }}" class="transcript-link">View video transcript</a>
  </div>
  {% endif %}
</section>

